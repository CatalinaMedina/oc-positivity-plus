---
title: "Complete Analysis: Factors associated with morality among people diagnosed
  with COVID-19"
output: 
  pdf_document:
    extra_dependencies:
      amsmath 
params:
  reclean_data: TRUE
  first_test_date: "2020-03-01"
  last_test_date: "2020-08-16"
  refit_model1: FALSE
  refit_model2: FALSE
  refit_model3: FALSE
  refit_model4: FALSE
  refit_model5: FALSE
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE, 
                      message = FALSE, 
                      error = FALSE,
                      fig.pos = "H")
```


```{r loading-libraries}
# data-wrangling-function chunk
library(tidyverse)
library(here)
library(lubridate)
library(data.table)
# missing-data-table chunk
library(knitr)
library(kableExtra)
# fit-model1 chunk
library(tictoc)
library(lme4)
library(BRRR)
library(car) # I dont think I need this anymore
library(mgcv)

library(ggplot2)
```


```{r data-wrangling-function}
read_all_pcr <- function(file_path, start_date, end_date) {
  pos_results_original <- read_csv(
    file_path,
    col_types = cols(
      .default = col_skip(),
      SpCollDt = col_date(),
      DtDeath = col_date(),
      Zip = col_character(),
      Age = col_integer(),
      Gender = col_character(),
      Ethnicity = col_character(),
      Race = col_character()
      )
    ) 
  
  full_num_data_cases <- pos_results_original %>% 
    filter(SpCollDt >= ymd(start_date) & SpCollDt <= ymd(end_date)) %>% 
    nrow()
}

```

